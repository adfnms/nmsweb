<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="com.bluecapsystem.nms.userManager">

	<!-- User Info Insert -->
    <insert id="regToDb" parameterClass="com.bluecapsystem.nms.dto.UserTbl">
		
     	INSERT INTO USER_TBL (
     		
     		user_id, user_nm, user_grade, group_id, regrid, reg_dt, modrid, mod_dt, use_yn
			
			) VALUES (
     		
     		#userId#, #userNm#, #userGrade#, #groupId#, #regrId#, date(now()), #modrId#, date(now()), #useYn#
     	);

    </insert>
    
    <!--User Info Modify-->
	<update id="modifyToDb" parameterClass="com.bluecapsystem.nms.dto.UserTbl">
    	UPDATE USER_TBL  
    	 
     	SET 
			
				user_id		=#userId#, 
				user_nm		=#userNm#, 
				user_grade	=#userGrade#, 
				group_id	=#groupId#, 
				regrid		=#regrId#, 
				reg_dt		=date(now()), 
				modrid		=#modrId#, 
				mod_dt		=date(now()), 
				use_yn		=#useYn#
			
   			WHERE 
   				user_id=#userId#
    </update> 
 
	 <!-- User Info Delete -->   
     <update id="deleteToDb" parameterClass="com.bluecapsystem.nms.dto.UserTbl">
    	UPDATE USER_TBL
    	
    	SET 
    	mod_dt		=date(now()), 
    	modrid		=#modrId#, 
    	use_yn		=#useYn#
    	
    	WHERE user_id=#userId#
    </update>
    

</sqlMap>